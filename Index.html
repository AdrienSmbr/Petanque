<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <title>Terrains de P√©tanque</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1>Terrains de P√©tanque</h1>

    <div class="recherche-container">
        <div class="wave-group">
            <input required="" type="text" id="recherche" class="input">
            <span class="bar"></span>
            <label class="label">
                <span class="label-char" style="--index: 0">E</span>
                <span class="label-char" style="--index: 1">n</span>
                <span class="label-char" style="--index: 2">t</span>
                <span class="label-char" style="--index: 3">r</span>
                <span class="label-char" style="--index: 4">e</span>
                <span class="label-char" style="--index: 5">r</span>
                <span class="label-char" style="--index: 6">&nbsp</span>
                <span class="label-char" style="--index: 7">u</span>
                <span class="label-char" style="--index: 8">n</span>
                <span class="label-char" style="--index: 9">e</span>
                <span class="label-char" style="--index: 10">&nbsp</span>
                <span class="label-char" style="--index: 11">v</span>
                <span class="label-char" style="--index: 12">i</span>
                <span class="label-char" style="--index: 13">l</span>
                <span class="label-char" style="--index: 14">l</span>
                <span class="label-char" style="--index: 15">e</span>
            </label>
        </div>
        <button id="rechercher">
            <p>Rechercher</p>
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                stroke="currentColor" stroke-width="4">
                <path stroke-linecap="round" stroke-linejoin="round" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
            </svg>
        </button>
    </div>
    <button id="geolocaliser" title="G√©olocalisation">üåç Pr√®s de moi</button>

    <div id="status"></div>
    <div id="resultats"></div>

    <script>
        const terrainsPetanque = {
        paris: {
            coords: [48.8566, 2.3522],
            terrains: [
                {nom: "Jardin du Luxembourg", adresse: "6 Rue de M√©dicis, 75006 Paris", capacite: 12, coords: [48.8462, 2.3371]},
                {nom: "Parc des Buttes-Chaumont", adresse: "1 Rue Botzaris, 75019 Paris", capacite: 8, coords: [48.8794, 2.3829]},
                {nom: "Esplanade des Invalides", adresse: "129 Rue de Grenelle, 75007 Paris", capacite: 10, coords: [48.8584, 2.3123]},
                {nom: "Parc Monceau", adresse: "35 Boulevard de Courcelles, 75008 Paris", capacite: 6, coords: [48.8798, 2.3092]}
            ]
        },
        marseille: {
            coords: [43.2965, 5.3698],
            terrains: [
                {nom: "Parc Bor√©ly", adresse: "Avenue Pierre Mend√®s France, 13008 Marseille", capacite: 15, coords: [43.2677, 5.3769]},
                {nom: "Parc de la Corniche", adresse: "Corniche Kennedy, 13007 Marseille", capacite: 10, coords: [43.2702, 5.3670]},
                {nom: "Parc Longchamp", adresse: "Place Henri Dunant, 13004 Marseille", capacite: 12, coords: [43.3031, 5.3924]},
                {nom: "Parc Pastr√©", adresse: "157 Avenue de Montredon, 13008 Marseille", capacite: 8, coords: [43.2521, 5.3748]}
            ]
        },
        lyon: {
            coords: [45.7640, 4.8357],
            terrains: [
                {nom: "Parc de la T√™te d'Or", adresse: "Rue Ney, 69006 Lyon", capacite: 20, coords: [45.7848, 4.8643]},
                {nom: "Parc Blandan", adresse: "43 Boulevard des Etats-Unis, 69008 Lyon", capacite: 6, coords: [45.7447, 4.8578]},
                {nom: "Place Bellecour", adresse: "Place Bellecour, 69002 Lyon", capacite: 8, coords: [45.7578, 4.8328]},
                {nom: "Parc de Gerland", adresse: "24 All√©e Pierre de Coubertin, 69007 Lyon", capacite: 12, coords: [45.7323, 4.8194]}
            ]
        },
        toulouse: {
            coords: [43.6047, 1.4442],
            terrains: [
                {nom: "Prairie des Filtres", adresse: "Quai de la Daurade, 31000 Toulouse", capacite: 18, coords: [43.6012, 1.4367]},
                {nom: "Parc Raymond IV", adresse: "Place Raymond IV, 31000 Toulouse", capacite: 12, coords: [43.6040, 1.4500]},
                {nom: "Parc de Compans-Caffarelli", adresse: "Boulevard Lascrosses, 31000 Toulouse", capacite: 10, coords: [43.6117, 1.4331]},
                {nom: "Jardin des Plantes", adresse: "All√©e Jules Guesde, 31400 Toulouse", capacite: 8, coords: [43.5944, 1.4540]}
            ]
        },
        nice: {
            coords: [43.7102, 7.2620],
            terrains: [
                {nom: "Parc Phoenix", adresse: "405 Promenade des Anglais, 06200 Nice", capacite: 10, coords: [43.6885, 7.2394]},
                {nom: "Jardin Albert 1er", adresse: "Promenade des Anglais, 06000 Nice", capacite: 7, coords: [43.6956, 7.2620]},
                {nom: "Parc du Ch√¢teau", adresse: "Rue des Ponchettes, 06300 Nice", capacite: 6, coords: [43.6994, 7.2775]},
                {nom: "Parc Chambrun", adresse: "Boulevard de Cessole, 06100 Nice", capacite: 5, coords: [43.7265, 7.2619]}
            ]
        },
        bordeaux: {
            coords: [44.8378, -0.5792],
            terrains: [
                {nom: "Parc Bordelais", adresse: "Rue du Bocage, 33200 Bordeaux", capacite: 15, coords: [44.8545, -0.5952]},
                {nom: "Jardin Public", adresse: "Cours de Verdun, 33000 Bordeaux", capacite: 10, coords: [44.8473, -0.5791]},
                {nom: "Parc de l'Ermitage", adresse: "Chemin de l'Ermitage, 33310 Lormont", capacite: 8, coords: [44.8656, -0.5204]},
                {nom: "Parc des Sports Saint-Michel", adresse: "Place Canteloup, 33000 Bordeaux", capacite: 12, coords: [44.8293, -0.5666]}
            ]
        },
        nantes: {
            coords: [47.2184, -1.5536],
            terrains: [
                {nom: "Parc de Proc√©", adresse: "Rue des Dervalli√®res, 44100 Nantes", capacite: 12, coords: [47.2221, -1.5806]},
                {nom: "√éle de Versailles", adresse: "Quai de Versailles, 44000 Nantes", capacite: 6, coords: [47.2208, -1.5556]},
                {nom: "Parc du Grand Blottereau", adresse: "Boulevard Auguste-Peneau, 44300 Nantes", capacite: 10, coords: [47.2386, -1.5222]},
                {nom: "Square Elisa Mercoeur", adresse: "3 Rue de l'√âv√™que, 44000 Nantes", capacite: 5, coords: [47.2139, -1.5531]}
            ]
        },
        bayonne: {
            coords: [43.4926, -1.4730],
            terrains: [
                {nom: "Parc des Sports", adresse: "Avenue Paul Pras, 64100 Bayonne", capacite: 12, coords: [43.4926, -1.4730]}
            ]
        },
        biarritz: {
            coords: [43.4833, -1.5623],
            terrains: [
                {nom: "Place Bellevue", adresse: "Place Bellevue, 64200 Biarritz", capacite: 8, coords: [43.4833, -1.5623]}
            ]
        },
        anglet: {
            coords: [43.5056, -1.5238],
            terrains: [
                {nom: "Square Marcel Hiribarren", adresse: "Boulevard des Plages, 64600 Anglet", capacite: 10, coords: [43.5056, -1.5238]}
            ]
        },
        tarnos: {
            coords: [43.5364, -1.4520],
            terrains: [
                {nom: "Parc de Castillon", adresse: "Rue Albert Camus, 40220 Tarnos", capacite: 6, coords: [43.5364, -1.4520]}
            ]
        },
        saintJeanDeLuz: {
            coords: [43.3907, -1.6591],
            terrains: [
                {nom: "Jardin Public", adresse: "Rue d'Espagne, 64500 Saint-Jean-de-Luz", capacite: 8, coords: [43.3907, -1.6591]}
            ]
        }
    };

        const rechercheInput = document.getElementById('recherche');
        const rechercherBtn = document.getElementById('rechercher');
        const geolocaliserBtn = document.getElementById('geolocaliser');
        const resultatsDiv = document.getElementById('resultats');
        const statusDiv = document.getElementById('status');

        function normaliserTexte(texte) {
            return texte.normalize('NFD').replace(/[\u0300-\u036f]/g, '').toLowerCase();
        }

        rechercherBtn.addEventListener('click', () => {
            const ville = normaliserTexte(rechercheInput.value.trim());
            resultatsDiv.innerHTML = '';
            statusDiv.innerHTML = '';

            if (ville in terrainsPetanque) {
                const terrains = terrainsPetanque[ville].terrains;
                terrains.forEach(terrain => {
                    const terrainDiv = document.createElement('div');
                    terrainDiv.classList.add('terrain');
                    terrainDiv.innerHTML = `
                        <h3>${terrain.nom}</h3>
                        <p><strong>Adresse:</strong> ${terrain.adresse}</p>
                        <p><strong>Capacit√©:</strong> ${terrain.capacite} joueurs</p>
                    `;
                    resultatsDiv.appendChild(terrainDiv);
                });
            } else {
                resultatsDiv.innerHTML = `<p>Aucun terrain trouv√© pour "${rechercheInput.value}".</p>`;
            }
        });

        geolocaliserBtn.addEventListener('click', () => {
            if ("geolocation" in navigator) {
                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        const { latitude, longitude } = position.coords;
                        statusDiv.innerHTML = "Position trouv√©e, recherche en cours...";
                        console.log("Latitude :", latitude, "Longitude :", longitude);
                    },
                    (error) => {
                        statusDiv.innerHTML = "Erreur lors de la g√©olocalisation.";
                    }
                );
            } else {
                statusDiv.innerHTML = "La g√©olocalisation n'est pas support√©e par votre navigateur.";
            }
        });
    </script>
</body>

</html>