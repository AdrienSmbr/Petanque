<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <title>Terrains de P√©tanque</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1>Terrains de P√©tanque</h1>

    <div class="recherche-container">
        <div class="wave-group">
            <input required="" type="text" id="recherche" class="input">
            <span class="bar"></span>
            <label class="label">
                <span class="label-char" style="--index: 0">E</span>
                <span class="label-char" style="--index: 1">n</span>
                <span class="label-char" style="--index: 2">t</span>
                <span class="label-char" style="--index: 3">r</span>
                <span class="label-char" style="--index: 4">e</span>
                <span class="label-char" style="--index: 5">r</span>
                <span class="label-char" style="--index: 6">&nbsp</span>
                <span class="label-char" style="--index: 7">u</span>
                <span class="label-char" style="--index: 8">n</span>
                <span class="label-char" style="--index: 9">e</span>
                <span class="label-char" style="--index: 10">&nbsp</span>
                <span class="label-char" style="--index: 11">v</span>
                <span class="label-char" style="--index: 12">i</span>
                <span class="label-char" style="--index: 13">l</span>
                <span class="label-char" style="--index: 14">l</span>
                <span class="label-char" style="--index: 15">e</span>
            </label>
        </div>
        <button id="rechercher">
            <p>Rechercher</p>
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                stroke="currentColor" stroke-width="4">
                <path stroke-linecap="round" stroke-linejoin="round" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
            </svg>
        </button>
    </div>
    <button id="geolocaliser" title="G√©olocalisation">üåç Pr√®s de moi</button>

    <div id="status"></div>
    <div id="resultats"></div>

    <script>
        const terrainsPetanque = {
            paris: {
                coords: [48.8566, 2.3522],
                terrains: [
                    { nom: "Jardin du Luxembourg", adresse: "6 Rue de M√©dicis, 75006 Paris", capacite: 12, coords: [48.8462, 2.3371] },
                    { nom: "Parc des Buttes-Chaumont", adresse: "1 Rue Botzaris, 75019 Paris", capacite: 8, coords: [48.8794, 2.3829] }
                ]
            },
            // Ajoute les autres villes ici...
        };

        const rechercheInput = document.getElementById('recherche');
        const rechercherBtn = document.getElementById('rechercher');
        const geolocaliserBtn = document.getElementById('geolocaliser');
        const resultatsDiv = document.getElementById('resultats');
        const statusDiv = document.getElementById('status');

        function normaliserTexte(texte) {
            return texte.normalize('NFD').replace(/[\u0300-\u036f]/g, '').toLowerCase();
        }

        rechercherBtn.addEventListener('click', () => {
            const ville = normaliserTexte(rechercheInput.value.trim());
            resultatsDiv.innerHTML = '';
            statusDiv.innerHTML = '';

            if (ville in terrainsPetanque) {
                const terrains = terrainsPetanque[ville].terrains;
                terrains.forEach(terrain => {
                    const terrainDiv = document.createElement('div');
                    terrainDiv.classList.add('terrain');
                    terrainDiv.innerHTML = `
                        <h3>${terrain.nom}</h3>
                        <p><strong>Adresse:</strong> ${terrain.adresse}</p>
                        <p><strong>Capacit√©:</strong> ${terrain.capacite} joueurs</p>
                    `;
                    resultatsDiv.appendChild(terrainDiv);
                });
            } else {
                resultatsDiv.innerHTML = `<p>Aucun terrain trouv√© pour "${rechercheInput.value}".</p>`;
            }
        });

        geolocaliserBtn.addEventListener('click', () => {
            if ("geolocation" in navigator) {
                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        const { latitude, longitude } = position.coords;
                        statusDiv.innerHTML = "Position trouv√©e, recherche en cours...";
                        console.log("Latitude :", latitude, "Longitude :", longitude);
                    },
                    (error) => {
                        statusDiv.innerHTML = "Erreur lors de la g√©olocalisation.";
                    }
                );
            } else {
                statusDiv.innerHTML = "La g√©olocalisation n'est pas support√©e par votre navigateur.";
            }
        });
    </script>
</body>

</html>