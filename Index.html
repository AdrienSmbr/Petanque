<!DOCTYPE html>
<html lang="fr">
    <head>
    <meta charset="UTF-8">
    <title>Terrains de P√©tanque</title>
    <link rel="stylesheet" href="style.css">

    
</head>
<body>
    <h1>Terrains de P√©tanque</h1>
    
    <div>
        <input type="text" id="recherche" placeholder="Entrez le nom d'une ville">
        <button id="rechercher">Rechercher</button>
        <button id="geolocaliser" title="G√©olocalisation">üåç Pr√®s de moi</button>
    </div>

    <div id="status"></div>
    <div id="resultats"></div>

    <script>
        // Base de donn√©es des terrains de p√©tanque avec coordonn√©es
        const terrainsPetanque = {
            paris: {
                coords: [48.8566, 2.3522],
                terrains: [
                    { nom: "Jardin du Luxembourg", adresse: "6 Rue de M√©dicis, 75006 Paris", capacite: 12, coords: [48.8462, 2.3371] },
                    { nom: "Parc des Buttes-Chaumont", adresse: "1 Rue Botzaris, 75019 Paris", capacite: 8, coords: [48.8794, 2.3829] }
                ]
            },
            marseille: {
                coords: [43.2965, 5.3698],
                terrains: [
                    { nom: "Parc Bor√©ly", adresse: "Avenue Pierre Mend√®s France, 13008 Marseille", capacite: 15, coords: [43.2677, 5.3769] },
                    { nom: "Parc de la Corniche", adresse: "Corniche Kennedy, 13007 Marseille", capacite: 10, coords: [43.2702, 5.3670] }
                ]
            },
            lyon: {
                coords: [45.7640, 4.8357],
                terrains: [
                    { nom: "Parc de la T√™te d'Or", adresse: "Rue Ney, 69006 Lyon", capacite: 20, coords: [45.7848, 4.8643] },
                    { nom: "Parc Blandan", adresse: "43 Boulevard des Etats-Unis, 69008 Lyon", capacite: 6, coords: [45.7447, 4.8578] }
                ]
            },
            toulouse: {
                coords: [43.6047, 1.4442],
                terrains: [
                    { nom: "Prairie des Filtres", adresse: "Quai de la Daurade, 31000 Toulouse", capacite: 18, coords: [43.6012, 1.4367] },
                    { nom: "Parc Raymond IV", adresse: "Place Raymond IV, 31000 Toulouse", capacite: 12, coords: [43.6040, 1.4500] }
                ]
            },
            nice: {
                coords: [43.7102, 7.2620],
                terrains: [
                    { nom: "Parc Phoenix", adresse: "405 Promenade des Anglais, 06200 Nice", capacite: 10, coords: [43.6885, 7.2394] },
                    { nom: "Jardin Albert 1er", adresse: "Promenade des Anglais, 06000 Nice", capacite: 7, coords: [43.6956, 7.2620] }
                ]
            }
        };

        const rechercheInput = document.getElementById('recherche');
        const rechercherBtn = document.getElementById('rechercher');
        const geolocaliserBtn = document.getElementById('geolocaliser');
        const resultatsDiv = document.getElementById('resultats');
        const statusDiv = document.getElementById('status');

        // Fonction pour normaliser le texte
        function normaliserTexte(texte) {
            return texte.normalize('NFD').replace(/[\u0300-\u036f]/g, '').toLowerCase();
        }

        // Fonction pour rechercher les terrains par ville
        rechercherBtn.addEventListener('click', () => {
            const ville = normaliserTexte(rechercheInput.value.trim());
            resultatsDiv.innerHTML = '';
            statusDiv.innerHTML = '';

            if (ville in terrainsPetanque) {
                const terrains = terrainsPetanque[ville].terrains;
                terrains.forEach(terrain => {
                    const terrainDiv = document.createElement('div');
                    terrainDiv.classList.add('terrain');
                    terrainDiv.innerHTML = `
                        <h3>${terrain.nom}</h3>
                        <p><strong>Adresse:</strong> ${terrain.adresse}</p>
                        <p><strong>Capacit√©:</strong> ${terrain.capacite} joueurs</p>
                    `;
                    resultatsDiv.appendChild(terrainDiv);
                });
            } else {
                resultatsDiv.innerHTML = `<p>Aucun terrain trouv√© pour "${rechercheInput.value}".</p>`;
            }
        });

        // Fonction pour afficher les terrains proches avec g√©olocalisation
        geolocaliserBtn.addEventListener('click', () => {
            if ("geolocation" in navigator) {
                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        const { latitude, longitude } = position.coords;
                        statusDiv.innerHTML = "Position trouv√©e, recherche en cours...";
                        // R√©cup√©ration des terrains proches
                    },
                    (error) => {
                        statusDiv.innerHTML = "Erreur lors de la g√©olocalisation.";
                    }
                );
            } else {
                statusDiv.innerHTML = "La g√©olocalisation n'est pas support√©e par votre navigateur.";
            }
        });
    </script>
</body>
</html>
